<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novo Cheque - Sistema de Gerenciamento de Cheques</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/png" href="img/favicon.png">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <button class="icon-button" id="backButton">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h1>Novo Cheque</h1>
            <div class="header-actions">
                <button class="icon-button" id="helpButton">
                    <i class="fas fa-question-circle"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="form-container">
            <form id="novoChequeForm" class="card-form">
                <!-- Informações Básicas -->
                <section class="form-section">
                    <h2>Informações Básicas</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="numero">Número do Cheque*</label>
                            <input type="text" id="numero" name="numero" required
                                   pattern="[0-9]{1,10}"
                                   title="Digite apenas números (máximo 10 dígitos)">
                        </div>
                        <div class="form-group">
                            <label for="valor">Valor (R$)*</label>
                            <input type="text" id="valor" name="valor" required
                                   class="currency-input"
                                   placeholder="0,00">
                        </div>
                        <div class="form-group">
                            <label for="dataEmissao">Data de Emissão*</label>
                            <input type="date" id="dataEmissao" name="dataEmissao" required>
                        </div>
                        <div class="form-group">
                            <label for="dataVencimento">Data de Vencimento*</label>
                            <input type="date" id="dataVencimento" name="dataVencimento" required>
                        </div>
                    </div>
                </section>

                <!-- Informações do Emissor -->
                <section class="form-section">
                    <h2>Informações do Emissor</h2>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="empresa">Empresa*</label>
                            <div class="input-with-button">
                                <input type="text" id="empresa" name="empresa" required
                                       list="empresasList">
                                <button type="button" id="novaEmpresaBtn" class="btn-icon">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <datalist id="empresasList">
                                <!-- Será preenchido via JavaScript -->
                            </datalist>
                        </div>
                        <div class="form-group">
                            <label for="cnpj">CNPJ</label>
                            <input type="text" id="cnpj" name="cnpj" 
                                   pattern="\d{2}\.\d{3}\.\d{3}/\d{4}-\d{2}"
                                   placeholder="00.000.000/0000-00"
                                   readonly>
                        </div>
                        <div class="form-group">
                            <label for="banco">Banco*</label>
                            <input type="text" id="banco" name="banco" required>
                        </div>
                        <div class="form-group">
                            <label for="agencia">Agência*</label>
                            <input type="text" id="agencia" name="agencia" required
                                   pattern="[0-9-]{1,10}"
                                   title="Digite apenas números e hífen">
                        </div>
                        <div class="form-group">
                            <label for="conta">Conta*</label>
                            <input type="text" id="conta" name="conta" required
                                   pattern="[0-9-]{1,15}"
                                   title="Digite apenas números e hífen">
                        </div>
                    </div>
                </section>

                <!-- Informações Adicionais -->
                <section class="form-section">
                    <h2>Informações Adicionais</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="status">Status*</label>
                            <select id="status" name="status" required>
                                <option value="pendente">Pendente</option>
                                <option value="compensado">Compensado</option>
                                <option value="devolvido">Devolvido</option>
                                <option value="cancelado">Cancelado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="categoria">Categoria</label>
                            <select id="categoria" name="categoria">
                                <option value="">Selecione...</option>
                                <option value="vendas">Vendas</option>
                                <option value="servicos">Serviços</option>
                                <option value="aluguel">Aluguel</option>
                                <option value="outros">Outros</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label for="observacoes">Observações</label>
                            <textarea id="observacoes" name="observacoes" rows="3"
                                    placeholder="Digite aqui quaisquer observações relevantes..."></textarea>
                        </div>
                    </div>
                </section>

                <!-- Anexos -->
                <section class="form-section">
                    <h2>Anexos</h2>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="anexos">Adicionar Anexos</label>
                            <div class="file-upload-container">
                                <input type="file" id="anexos" name="anexos" multiple
                                       accept="image/*,.pdf">
                                <div class="file-upload-preview" id="filePreview">
                                    <!-- Será preenchido via JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Botões de Ação -->
                <div class="form-actions">
                    <button type="button" class="btn btn-outline" id="cancelarBtn">
                        <i class="fas fa-times"></i>
                        Cancelar
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Salvar Cheque
                    </button>
                </div>
            </form>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="dashboard.html">
                <i class="fas fa-home"></i>
                Dashboard
            </a>
            <a href="novo-cheque.html" class="active">
                <i class="fas fa-plus"></i>
                Novo
            </a>
            <a href="listar-cheques.html">
                <i class="fas fa-list"></i>
                Cheques
            </a>
            <a href="empresas.html">
                <i class="fas fa-building"></i>
                Empresas
            </a>
            <a href="agenda.html">
                <i class="fas fa-calendar"></i>
                Agenda
            </a>
        </nav>
    </div>

    <!-- Modal Nova Empresa -->
    <div class="modal" id="novaEmpresaModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nova Empresa</h2>
                <button class="btn-icon modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="novaEmpresaForm">
                <div class="form-group">
                    <label for="nomeEmpresa">Nome da Empresa*</label>
                    <input type="text" id="nomeEmpresa" name="nomeEmpresa" required>
                </div>
                <div class="form-group">
                    <label for="cnpjEmpresa">CNPJ*</label>
                    <input type="text" id="cnpjEmpresa" name="cnpjEmpresa" required
                           pattern="\d{2}\.\d{3}\.\d{3}/\d{4}-\d{2}"
                           placeholder="00.000.000/0000-00">
                </div>
                <div class="form-group">
                    <label for="telefoneEmpresa">Telefone</label>
                    <input type="tel" id="telefoneEmpresa" name="telefoneEmpresa"
                           placeholder="(00) 00000-0000">
                </div>
                <div class="form-group">
                    <label for="emailEmpresa">E-mail</label>
                    <input type="email" id="emailEmpresa" name="emailEmpresa"
                           placeholder="exemplo@empresa.com">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-outline modal-close">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Empresa</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Carregando...</p>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/novo-cheque.js"></script>
</body>
</html> 